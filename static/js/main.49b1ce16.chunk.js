(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/another-world-intro.906002dc.mp3"},function(e,t,n){e.exports=n.p+"static/media/r-type-title.34638760.mp3"},function(e,t,n){e.exports=n.p+"static/media/shadow-of-the-beast-intro.957ac6e3.mp3"},,function(e,t,n){e.exports=n(19)},,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(11),a=n(1),i=n(2),u=n(4),s=n(3),l=n(5),o=n(0),c=n.n(o),h=n(7),f=n.n(h),m=3,d="\ud83d\ude80",p="\ud83d\udef0\ufe0f",v="hard",g=["human","easy","medium","hard"],y=Array.from("SHALL WE PLAY A GAME?");function w(e){return e?d:p}function O(e){var t=Array(e).fill(!0).map(function(t,n){return Array(e).fill(n*e).map(function(e,t){return e+t})}),n=Array(e).fill(!0).map(function(t,n){return Array(e).fill(n).map(function(t,n){return t+n*e})}),r=Array(2).fill(!0).map(function(t,n){return Array(e).fill(n).map(function(t,n){return n*(e+1-t)+t*(e-n-t)})});return[].concat(t,n,r)}function E(e,t){return Array(e).fill(!0).map(function(){return t()})}function b(e){return Math.floor(Math.random()*Math.floor(e))}function M(e){var t=function(e){return e.map(function(e,t){return null===e?t:null}).filter(function(e){return null!==e})}(e);return t[b(t.length)]}function k(e,t){var n=Math.sqrt(e.length),r=function(e){return Array(e*e).fill().map(function(e,t){return{squareIndex:t,weight:0}})}(n),a=O(n),i=function(e,t,n){return t.filter(function(t){return!t.map(function(t){return e[t]}).some(function(e){return e===n})})}(e,a,t);if(0===i.length)return{squareIndex:M(e),weight:0};var u=function(e){e.sort(function(e,t){return e.weight<t.weight});var t=e[0].weight;return e.filter(function(e){return e.weight===t})}(function(e,t){return e.reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){return e[t.squareIndex].weight+=t.weight,e},t)}(i.map(function(t){return function(e,t,n){var r=t.filter(function(t){return null===e[t]}).length,a=n;return 1===r&&(a+=1),t.map(function(t){return{squareIndex:t,weight:null===e[t]?a/r:0}})}(e,t,n)}),r));return u[b(u.length)]}function N(e,t,n,r){return"easy"===e?M(t):"medium"===e?function(e,t){return k(e,t).squareIndex}(t,r):function(e,t,n){var r=k(e,n),a=k(e,t);return r.weight>=a.weight?r.squareIndex:a.squareIndex}(t,n,r)}n(18);var x=n(8),q=n.n(x),L=n(9),A=n.n(L),C=n(10),S=n.n(C);function j(e){var t="square ".concat(e.shouldHighlight?"highlight":""," ").concat(e.isOnWinningLine?"winner":"");return c.a.createElement("button",{className:t,onClick:e.onClick,onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut},c.a.createElement("span",{role:"img","aria-label":"player character"},e.playerCharacter))}var I=function(e){function t(){return Object(a.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"renderSquare",value:function(e){var t=this,n=this.props.winningLine,r=null!==n&&n.includes(e),a=this.props.highlight===e;return c.a.createElement(j,{key:"square"+e,playerCharacter:this.props.squares[e],isOnWinningLine:r,shouldHighlight:a,onMouseOver:function(){return t.props.onMouseOver(e)},onMouseOut:function(){return t.props.onMouseOut(e)},onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){var e=this,t=0,n=0;return c.a.createElement("div",null,E(m,function(){return c.a.createElement("div",{className:"board-row",key:"row"+n++},E(m,function(){return e.renderSquare(t++)}))}))}}]),t}(c.a.Component),H=function(e){function t(e){var n;Object(a.a)(this,t),n=Object(u.a)(this,Object(s.a)(t).call(this,e));var r=[q.a,A.a,S.a],i=b(r.length),l=r[i],o=m*m;return n.state={history:[{squares:Array(o).fill(null),indexPlayed:null,move:"No moves"}],startMessage:[],stepNumber:0,playerOneNext:!0,isDraw:!1,winner:null,winningLine:null,music:r,currentMusicIndex:i,currentMusic:l,difficulty:v,difficultyOptions:g,gameLock:!1},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"haveAGo",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),n=t[t.length-1].squares.slice(),a=w(this.state.playerOneNext);n[e]=a;var i,u,s=[(i=e)%(u=m),Math.trunc(i/u)],l=Object(r.a)(s,2),o=l[0],c=l[1],h=function(e,t){var n={winner:null,winningLine:null},r=O(t).map(function(t){return t.map(function(t){return{index:t,value:e[t]}})}).filter(function(e){return e.every(function(e){return null!==e.value})}).filter(function(e){return e.every(function(e,t,n){return n[0].value===e.value})});if(r.length<1)return n;var a=r[0][0].value,i=r[0].map(function(e){return e.index});return n.winner=a,n.winningLine=i,n}(n,m),f=h.winner,d=h.winningLine,p=null===f&&!n.includes(null);this.setState({history:t.concat([{squares:n,indexPlayed:e,move:a+" at (x:"+o+", y:"+c+")"}]),stepNumber:t.length,playerOneNext:!this.state.playerOneNext,isDraw:p,winner:f,winningLine:d,highlight:null,reverseHistory:!1})}},{key:"handleMouseOver",value:function(e){this.setState({highlight:e})}},{key:"handleMouseOut",value:function(e){this.setState({highlight:null})}},{key:"handleBoardClick",value:function(e){var t=this,n=this.state.history.slice(0,this.state.stepNumber+1),r=n[n.length-1].squares.slice();this.state.winner||this.state.isDraw||r[e]||this.state.gameLock||(this.setState({gameLock:!0}),this.haveAGo(e),"human"!==this.state.difficulty?this.forceUpdate(function(){var e=t.state.history.slice(0,t.state.stepNumber+1),n=e[e.length-1].squares.slice(),r=w(t.state.playerOneNext),a=w(!t.state.playerOneNext),i=t.state.difficulty;if(!t.state.winner&&!t.state.isDraw){var u=N(i,n,r,a),s=300+Math.floor(500*Math.random());setTimeout(function(){t.haveAGo(u),t.setState({gameLock:!1})},s)}}):this.setState({gameLock:!1}))}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e,playerOneNext:e%2===0,winner:null,isDraw:!1,winningLine:null,gameLock:!1})}},{key:"reverseHistory",value:function(){this.setState({reverseHistory:!this.state.reverseHistory})}},{key:"handleEnded",value:function(){var e=this.state.music,t=this.state.currentMusicIndex,n=e[t=(t+1)%e.length];this.setState({currentMusicIndex:t,currentMusic:n})}},{key:"handleDifficultyChange",value:function(e){var t=e.target.value;this.setState({difficulty:t})}},{key:"render",value:function(){var e,t=this,n=this.state.history,r=this.state.stepNumber,a=n[this.state.stepNumber],i=this.state.winner,u=this.state.isDraw,s=this.state.winningLine,l=this.state.highlight,o=this.state.reverseHistory,h=this.state.startMessage.slice(),f=this.state.difficulty,m=this.state.difficultyOptions.slice(),d=n.map(function(e,n){var a=n>0?"Go to move #"+n+". "+e.move:"Go to game start",i=n===r,u=null!==l&&l===e.indexPlayed,s="".concat(i?"current":""),o="".concat(u?"highlight":"");return c.a.createElement("li",{key:n,className:s},c.a.createElement("button",{className:o,onClick:function(){return t.jumpTo(n)},onMouseOver:function(){return t.handleMouseOver(e.indexPlayed)},onMouseOut:function(){return t.handleMouseOut(e.indexPlayed)}},a))}),p=m.map(function(e){return c.a.createElement("option",{key:e,value:e},e)});if(0===this.state.stepNumber){if(e=h.concat(y.length%2===1?"_":""),y.length){var v=y.shift();setTimeout(function(){var e=h.concat(v);t.setState({startMessage:e})},130)}}else e=u?c.a.createElement("span",null,"It's a tie. How about a nice ",c.a.createElement("a",{href:"https://www.chess.com/play/computer"},"game of chess?")):i?"Winner: "+this.state.winner:"Next player: "+w(this.state.playerOneNext);return c.a.createElement("div",{className:"background"},c.a.createElement("div",{className:"game"},c.a.createElement("div",{className:"game-board"},c.a.createElement(I,{squares:a.squares,winningLine:s,highlight:l,onClick:function(e){return t.handleBoardClick(e)},onMouseOver:function(e){return t.handleMouseOver(e)},onMouseOut:function(e){return t.handleMouseOut(e)}})),c.a.createElement("section",{className:"controls"},c.a.createElement("div",{className:"game-info"},c.a.createElement("div",{className:"status ".concat(i?"winner":"")},e),c.a.createElement("button",{className:"reverse-history",onClick:function(){return t.reverseHistory()}},c.a.createElement("span",{role:"img","aria-label":"reverse list order"},"\ud83d\udd03")),c.a.createElement("ol",{className:"history"},o?d.reverse():d)),c.a.createElement("figure",{className:"options"},c.a.createElement("figcaption",null,"Music from ",c.a.createElement("a",{href:"https://retro.sx"},"retro.sx")),c.a.createElement("audio",{controls:!0,src:this.state.currentMusic,preload:"none",autoPlay:!0,onEnded:function(){return t.handleEnded()}},c.a.createElement("p",null,"Your browser does not support the ",c.a.createElement("code",null,"audio")," element.")),c.a.createElement("div",{className:"difficulty"},c.a.createElement("label",null,"Opponent: ",c.a.createElement("select",{value:f,onChange:function(e){return t.handleDifficultyChange(e)}},p))),c.a.createElement("div",{className:"source-link"},c.a.createElement("a",{href:"https://github.com/jimCresswell/triple-t"},"Source code available here."))))))}}]),t}(c.a.Component);f.a.render(c.a.createElement(H,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.49b1ce16.chunk.js.map